{
    "sourceFile": "backand/routes/routes.go",
    "activeCommit": 0,
    "commits": [
        {
            "activePatchIndex": 26,
            "patches": [
                {
                    "date": 1747213367708,
                    "content": "Index: \n===================================================================\n--- \n+++ \n"
                },
                {
                    "date": 1747213400067,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,1 +1,23 @@\n-h\n\\ No newline at end of file\n+package main\r\n+\r\n+import (\r\n+    \"fmt\"\r\n+    \"log\"\r\n+    \"net/http\"\r\n+\r\n+    \"quickpoll/config\"\r\n+    \"quickpoll/routes\"\r\n+)\r\n+\r\n+func main() {\r\n+    config.Connect()\r\n+\r\n+    // Jalankan migrasi setelah connect DB\r\n+    if err := config.RunMigrations(config.DB); err != nil {\r\n+        log.Fatalf(\"‚ùå Migration failed: %v\", err)\r\n+    }\r\n+\r\n+    r := routes.SetupRoutes()\r\n+    fmt.Println(\"üöÄ Server running on port 8080\")\r\n+    log.Fatal(http.ListenAndServe(\":8080\", r))\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747213406381,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,23 +1,27 @@\n-package main\r\n+package routes\r\n \r\n import (\r\n-    \"fmt\"\r\n-    \"log\"\r\n-    \"net/http\"\r\n-\r\n-    \"quickpoll/config\"\r\n-    \"quickpoll/routes\"\r\n+    \"github.com/gorilla/mux\"\r\n+    \"quickpoll/handlers\"\r\n )\r\n \r\n-func main() {\r\n-    config.Connect()\r\n+func SetupRoutes() *mux.Router {\r\n+    r := mux.NewRouter()\r\n \r\n-    // Jalankan migrasi setelah connect DB\r\n-    if err := config.RunMigrations(config.DB); err != nil {\r\n-        log.Fatalf(\"‚ùå Migration failed: %v\", err)\r\n-    }\r\n+    // Poll Creation\r\n+    r.HandleFunc(\"/api/polls\", handlers.CreatePollHandler).Methods(\"POST\")\r\n \r\n-    r := routes.SetupRoutes()\r\n-    fmt.Println(\"üöÄ Server running on port 8080\")\r\n-    log.Fatal(http.ListenAndServe(\":8080\", r))\r\n+    // Dashboard\r\n+    r.HandleFunc(\"/api/dashboard\", handlers.GetDashboardData).Methods(\"GET\")\r\n+    r.HandleFunc(\"/api/polls/{id}\", handlers.GetPollDetails).Methods(\"GET\")\r\n+\r\n+    // Voting\r\n+    r.HandleFunc(\"/api/polls/{id}/vote\", handlers.CastVote).Methods(\"POST\")\r\n+\r\n+    // Admin Actions\r\n+    r.HandleFunc(\"/api/polls/{id}/close\", handlers.ClosePoll).Methods(\"PUT\")\r\n+    r.HandleFunc(\"/api/polls/{id}\", handlers.DeletePoll).Methods(\"DELETE\")\r\n+    r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n+\r\n+    return r\r\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747213426180,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,24 +4,4 @@\n     \"github.com/gorilla/mux\"\r\n     \"quickpoll/handlers\"\r\n )\r\n \r\n-func SetupRoutes() *mux.Router {\r\n-    r := mux.NewRouter()\r\n-\r\n-    // Poll Creation\r\n-    r.HandleFunc(\"/api/polls\", handlers.CreatePollHandler).Methods(\"POST\")\r\n-\r\n-    // Dashboard\r\n-    r.HandleFunc(\"/api/dashboard\", handlers.GetDashboardData).Methods(\"GET\")\r\n-    r.HandleFunc(\"/api/polls/{id}\", handlers.GetPollDetails).Methods(\"GET\")\r\n-\r\n-    // Voting\r\n-    r.HandleFunc(\"/api/polls/{id}/vote\", handlers.CastVote).Methods(\"POST\")\r\n-\r\n-    // Admin Actions\r\n-    r.HandleFunc(\"/api/polls/{id}/close\", handlers.ClosePoll).Methods(\"PUT\")\r\n-    r.HandleFunc(\"/api/polls/{id}\", handlers.DeletePoll).Methods(\"DELETE\")\r\n-    r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n-\r\n-    return r\r\n-}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747213449421,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,7 @@\n package routes\r\n \r\n import (\r\n     \"github.com/gorilla/mux\"\r\n-    \"quickpoll/handlers\"\r\n+    \"backand/handlers\"\r\n )\r\n \r\n"
                },
                {
                    "date": 1747213459366,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,7 +1,27 @@\n package routes\r\n \r\n import (\r\n     \"github.com/gorilla/mux\"\r\n-    \"backand/handlers\"\r\n+    \"quickpoll/handlers\"\r\n )\r\n \r\n+func SetupRoutes() *mux.Router {\r\n+    r := mux.NewRouter()\r\n+\r\n+    // Poll Creation\r\n+    r.HandleFunc(\"/api/polls\", handlers.CreatePollHandler).Methods(\"POST\")\r\n+\r\n+    // Dashboard\r\n+    r.HandleFunc(\"/api/dashboard\", handlers.GetDashboardData).Methods(\"GET\")\r\n+    r.HandleFunc(\"/api/polls/{id}\", handlers.GetPollDetails).Methods(\"GET\")\r\n+\r\n+    // Voting\r\n+    r.HandleFunc(\"/api/polls/{id}/vote\", handlers.CastVote).Methods(\"POST\")\r\n+\r\n+    // Admin Actions\r\n+    r.HandleFunc(\"/api/polls/{id}/close\", handlers.ClosePoll).Methods(\"PUT\")\r\n+    r.HandleFunc(\"/api/polls/{id}\", handlers.DeletePoll).Methods(\"DELETE\")\r\n+    r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n+\r\n+    return r\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747213563826,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,27 +1,14 @@\n package routes\r\n \r\n import (\r\n     \"github.com/gorilla/mux\"\r\n-    \"quickpoll/handlers\"\r\n+    \"backand/handlers\"\r\n )\r\n \r\n func SetupRoutes() *mux.Router {\r\n     r := mux.NewRouter()\r\n \r\n-    // Poll Creation\r\n-    r.HandleFunc(\"/api/polls\", handlers.CreatePollHandler).Methods(\"POST\")\r\n \r\n-    // Dashboard\r\n-    r.HandleFunc(\"/api/dashboard\", handlers.GetDashboardData).Methods(\"GET\")\r\n-    r.HandleFunc(\"/api/polls/{id}\", handlers.GetPollDetails).Methods(\"GET\")\r\n \r\n-    // Voting\r\n-    r.HandleFunc(\"/api/polls/{id}/vote\", handlers.CastVote).Methods(\"POST\")\r\n-\r\n-    // Admin Actions\r\n-    r.HandleFunc(\"/api/polls/{id}/close\", handlers.ClosePoll).Methods(\"PUT\")\r\n-    r.HandleFunc(\"/api/polls/{id}\", handlers.DeletePoll).Methods(\"DELETE\")\r\n-    r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n-\r\n     return r\r\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747213572316,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -7,8 +7,21 @@\n \r\n func SetupRoutes() *mux.Router {\r\n     r := mux.NewRouter()\r\n \r\n+    // Poll Creation\r\n+    r.HandleFunc(\"/api/polls\", handlers.CreatePollHandler).Methods(\"POST\")\r\n \r\n+    // Dashboard\r\n+    r.HandleFunc(\"/api/dashboard\", handlers.GetDashboardData).Methods(\"GET\")\r\n+    r.HandleFunc(\"/api/polls/{id}\", handlers.GetPollDetails).Methods(\"GET\")\r\n \r\n+    // Voting\r\n+    r.HandleFunc(\"/api/polls/{id}/vote\", handlers.CastVote).Methods(\"POST\")\r\n+\r\n+    // Admin Actions\r\n+    r.HandleFunc(\"/api/polls/{id}/close\", handlers.ClosePoll).Methods(\"PUT\")\r\n+    r.HandleFunc(\"/api/polls/{id}\", handlers.DeletePoll).Methods(\"DELETE\")\r\n+    r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n+\r\n     return r\r\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747235774471,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n package routes\r\n \r\n import (\r\n     \"github.com/gorilla/mux\"\r\n-    \"backand/handlers\"\r\n+    \"\"backand/handlers\"\"\r\n )\r\n \r\n func SetupRoutes() *mux.Router {\r\n     r := mux.NewRouter()\r\n"
                },
                {
                    "date": 1747235779873,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n package routes\r\n \r\n import (\r\n     \"github.com/gorilla/mux\"\r\n-    \"\"backand/handlers\"\"\r\n+    \"backand/\"\r\n )\r\n \r\n func SetupRoutes() *mux.Router {\r\n     r := mux.NewRouter()\r\n"
                },
                {
                    "date": 1747235798709,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n package routes\r\n \r\n import (\r\n     \"github.com/gorilla/mux\"\r\n-    \"backand/\"\r\n+    \"backand/handlers\"\r\n )\r\n \r\n func SetupRoutes() *mux.Router {\r\n     r := mux.NewRouter()\r\n"
                },
                {
                    "date": 1747239327831,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n package routes\r\n \r\n import (\r\n     \"github.com/gorilla/mux\"\r\n-    \"backand/handlers\"\r\n+    \"\"\r\n )\r\n \r\n func SetupRoutes() *mux.Router {\r\n     r := mux.NewRouter()\r\n"
                },
                {
                    "date": 1747240272599,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -1,9 +1,9 @@\n package routes\r\n \r\n import (\r\n     \"github.com/gorilla/mux\"\r\n-    \"\"\r\n+    \"backand/handlers\"\r\n )\r\n \r\n func SetupRoutes() *mux.Router {\r\n     r := mux.NewRouter()\r\n@@ -12,9 +12,9 @@\n     r.HandleFunc(\"/api/polls\", handlers.CreatePollHandler).Methods(\"POST\")\r\n \r\n     // Dashboard\r\n     r.HandleFunc(\"/api/dashboard\", handlers.GetDashboardData).Methods(\"GET\")\r\n-    r.HandleFunc(\"/api/polls/{id}\", handlers.GetPollDetails).Methods(\"GET\")\r\n+    r.HandleFunc(\"/api/polls/{id}\", handlers.ViewPollPage).Methods(\"GET\")\r\n \r\n     // Voting\r\n     r.HandleFunc(\"/api/polls/{id}/vote\", handlers.CastVote).Methods(\"POST\")\r\n \r\n"
                },
                {
                    "date": 1747241576876,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -14,8 +14,11 @@\n     // Dashboard\r\n     r.HandleFunc(\"/api/dashboard\", handlers.GetDashboardData).Methods(\"GET\")\r\n     r.HandleFunc(\"/api/polls/{id}\", handlers.ViewPollPage).Methods(\"GET\")\r\n \r\n+    //toggle-visibilty\r\n+    r.HandleFunc(\"/api/polls/{id}/toggle-realtime\", handlers.ToggleRealtimeVisibility).Methods(\"PUT\")\r\n+\r\n     // Voting\r\n     r.HandleFunc(\"/api/polls/{id}/vote\", handlers.CastVote).Methods(\"POST\")\r\n \r\n     // Admin Actions\r\n"
                },
                {
                    "date": 1747281618528,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,15 +16,38 @@\n     r.HandleFunc(\"/api/polls/{id}\", handlers.ViewPollPage).Methods(\"GET\")\r\n \r\n     //toggle-visibilty\r\n     r.HandleFunc(\"/api/polls/{id}/toggle-realtime\", handlers.ToggleRealtimeVisibility).Methods(\"PUT\")\r\n+package routes\r\n \r\n+import (\r\n+    \"github.com/gorilla/mux\"\r\n+    \"backand/handlers\"\r\n+)\r\n+\r\n+func SetupRoutes(r *mux.Router) {\r\n+    // Poll Creation\r\n+    r.HandleFunc(\"/api/polls\", handlers.CreatePollHandler).Methods(\"POST\")\r\n+\r\n+    // Dashboard\r\n+    r.HandleFunc(\"/api/dashboard\", handlers.GetDashboardData).Methods(\"GET\")\r\n+    r.HandleFunc(\"/api/polls/{id}\", handlers.ViewPollPage).Methods(\"GET\")\r\n+\r\n     // Voting\r\n     r.HandleFunc(\"/api/polls/{id}/vote\", handlers.CastVote).Methods(\"POST\")\r\n \r\n     // Admin Actions\r\n     r.HandleFunc(\"/api/polls/{id}/close\", handlers.ClosePoll).Methods(\"PUT\")\r\n     r.HandleFunc(\"/api/polls/{id}\", handlers.DeletePoll).Methods(\"DELETE\")\r\n     r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n+    r.HandleFunc(\"/api/polls/{id}/toggle-realtime\", handlers.ToggleRealtimeVisibility).Methods(\"PUT\")\r\n+}\r\n+    // Voting\r\n+    r.HandleFunc(\"/api/polls/{id}/vote\", handlers.CastVote).Methods(\"POST\")\r\n \r\n+    // Admin Actions\r\n+    r.HandleFunc(\"/api/polls/{id}/close\", handlers.ClosePoll).Methods(\"PUT\")\r\n+    r.HandleFunc(\"/api/polls/{id}\", handlers.DeletePoll).Methods(\"DELETE\")\r\n+    r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n+\r\n     return r\r\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747281624773,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -16,38 +16,15 @@\n     r.HandleFunc(\"/api/polls/{id}\", handlers.ViewPollPage).Methods(\"GET\")\r\n \r\n     //toggle-visibilty\r\n     r.HandleFunc(\"/api/polls/{id}/toggle-realtime\", handlers.ToggleRealtimeVisibility).Methods(\"PUT\")\r\n-package routes\r\n \r\n-import (\r\n-    \"github.com/gorilla/mux\"\r\n-    \"backand/handlers\"\r\n-)\r\n-\r\n-func SetupRoutes(r *mux.Router) {\r\n-    // Poll Creation\r\n-    r.HandleFunc(\"/api/polls\", handlers.CreatePollHandler).Methods(\"POST\")\r\n-\r\n-    // Dashboard\r\n-    r.HandleFunc(\"/api/dashboard\", handlers.GetDashboardData).Methods(\"GET\")\r\n-    r.HandleFunc(\"/api/polls/{id}\", handlers.ViewPollPage).Methods(\"GET\")\r\n-\r\n     // Voting\r\n     r.HandleFunc(\"/api/polls/{id}/vote\", handlers.CastVote).Methods(\"POST\")\r\n \r\n     // Admin Actions\r\n     r.HandleFunc(\"/api/polls/{id}/close\", handlers.ClosePoll).Methods(\"PUT\")\r\n     r.HandleFunc(\"/api/polls/{id}\", handlers.DeletePoll).Methods(\"DELETE\")\r\n     r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n-    r.HandleFunc(\"/api/polls/{id}/toggle-realtime\", handlers.ToggleRealtimeVisibility).Methods(\"PUT\")\r\n-}\r\n-    // Voting\r\n-    r.HandleFunc(\"/api/polls/{id}/vote\", handlers.CastVote).Methods(\"POST\")\r\n \r\n-    // Admin Actions\r\n-    r.HandleFunc(\"/api/polls/{id}/close\", handlers.ClosePoll).Methods(\"PUT\")\r\n-    r.HandleFunc(\"/api/polls/{id}\", handlers.DeletePoll).Methods(\"DELETE\")\r\n-    r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n-\r\n     return r\r\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747281640057,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,27 +4,21 @@\n     \"github.com/gorilla/mux\"\r\n     \"backand/handlers\"\r\n )\r\n \r\n-func SetupRoutes() *mux.Router {\r\n-    r := mux.NewRouter()\r\n-\r\n+func SetupRoutes(r *mux.Router) {\r\n     // Poll Creation\r\n     r.HandleFunc(\"/api/polls\", handlers.CreatePollHandler).Methods(\"POST\")\r\n \r\n     // Dashboard\r\n     r.HandleFunc(\"/api/dashboard\", handlers.GetDashboardData).Methods(\"GET\")\r\n     r.HandleFunc(\"/api/polls/{id}\", handlers.ViewPollPage).Methods(\"GET\")\r\n \r\n-    //toggle-visibilty\r\n-    r.HandleFunc(\"/api/polls/{id}/toggle-realtime\", handlers.ToggleRealtimeVisibility).Methods(\"PUT\")\r\n-\r\n     // Voting\r\n     r.HandleFunc(\"/api/polls/{id}/vote\", handlers.CastVote).Methods(\"POST\")\r\n \r\n     // Admin Actions\r\n     r.HandleFunc(\"/api/polls/{id}/close\", handlers.ClosePoll).Methods(\"PUT\")\r\n     r.HandleFunc(\"/api/polls/{id}\", handlers.DeletePoll).Methods(\"DELETE\")\r\n     r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n-\r\n-    return r\r\n+    r.HandleFunc(\"/api/polls/{id}/toggle-realtime\", handlers.ToggleRealtimeVisibility).Methods(\"PUT\")\r\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747281646178,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,5 +20,27 @@\n     r.HandleFunc(\"/api/polls/{id}/close\", handlers.ClosePoll).Methods(\"PUT\")\r\n     r.HandleFunc(\"/api/polls/{id}\", handlers.DeletePoll).Methods(\"DELETE\")\r\n     r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n     r.HandleFunc(\"/api/polls/{id}/toggle-realtime\", handlers.ToggleRealtimeVisibility).Methods(\"PUT\")\r\n-}\n\\ No newline at end of file\n+}\r\n+\r\n+    r := mux.NewRouter()\r\n+\r\n+    // Poll Creation\r\n+    r.HandleFunc(\"/api/polls\", handlers.CreatePollHandler).Methods(\"POST\")\r\n+\r\n+    // Dashboard\r\n+    r.HandleFunc(\"/api/dashboard\", handlers.GetDashboardData).Methods(\"GET\")\r\n+    r.HandleFunc(\"/api/polls/{id}\", handlers.ViewPollPage).Methods(\"GET\")\r\n+\r\n+    //toggle-visibilty\r\n+    r.HandleFunc(\"/api/polls/{id}/toggle-realtime\", handlers.ToggleRealtimeVisibility).Methods(\"PUT\")\r\n+\r\n+    // Voting\r\n+    r.HandleFunc(\"/api/polls/{id}/vote\", handlers.CastVote).Methods(\"POST\")\r\n+\r\n+    // Admin Actions\r\n+    r.HandleFunc(\"/api/polls/{id}/close\", handlers.ClosePoll).Methods(\"PUT\")\r\n+    r.HandleFunc(\"/api/polls/{id}\", handlers.DeletePoll).Methods(\"DELETE\")\r\n+    r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n+\r\n+    return r\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747281679227,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,27 +20,5 @@\n     r.HandleFunc(\"/api/polls/{id}/close\", handlers.ClosePoll).Methods(\"PUT\")\r\n     r.HandleFunc(\"/api/polls/{id}\", handlers.DeletePoll).Methods(\"DELETE\")\r\n     r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n     r.HandleFunc(\"/api/polls/{id}/toggle-realtime\", handlers.ToggleRealtimeVisibility).Methods(\"PUT\")\r\n-}\r\n-\r\n-    r := mux.NewRouter()\r\n-\r\n-    // Poll Creation\r\n-    r.HandleFunc(\"/api/polls\", handlers.CreatePollHandler).Methods(\"POST\")\r\n-\r\n-    // Dashboard\r\n-    r.HandleFunc(\"/api/dashboard\", handlers.GetDashboardData).Methods(\"GET\")\r\n-    r.HandleFunc(\"/api/polls/{id}\", handlers.ViewPollPage).Methods(\"GET\")\r\n-\r\n-    //toggle-visibilty\r\n-    r.HandleFunc(\"/api/polls/{id}/toggle-realtime\", handlers.ToggleRealtimeVisibility).Methods(\"PUT\")\r\n-\r\n-    // Voting\r\n-    r.HandleFunc(\"/api/polls/{id}/vote\", handlers.CastVote).Methods(\"POST\")\r\n-\r\n-    // Admin Actions\r\n-    r.HandleFunc(\"/api/polls/{id}/close\", handlers.ClosePoll).Methods(\"PUT\")\r\n-    r.HandleFunc(\"/api/polls/{id}\", handlers.DeletePoll).Methods(\"DELETE\")\r\n-    r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n-\r\n-    return r\n\\ No newline at end of file\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747285451841,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,21 +4,27 @@\n     \"github.com/gorilla/mux\"\r\n     \"backand/handlers\"\r\n )\r\n \r\n-func SetupRoutes(r *mux.Router) {\r\n+func SetupRoutes() *mux.Router {\r\n+    r := mux.NewRouter()\r\n+\r\n     // Poll Creation\r\n     r.HandleFunc(\"/api/polls\", handlers.CreatePollHandler).Methods(\"POST\")\r\n \r\n     // Dashboard\r\n     r.HandleFunc(\"/api/dashboard\", handlers.GetDashboardData).Methods(\"GET\")\r\n     r.HandleFunc(\"/api/polls/{id}\", handlers.ViewPollPage).Methods(\"GET\")\r\n \r\n+    //toggle-visibilty\r\n+    r.HandleFunc(\"/api/polls/{id}/toggle-realtime\", handlers.ToggleRealtimeVisibility).Methods(\"PUT\")\r\n+\r\n     // Voting\r\n     r.HandleFunc(\"/api/polls/{id}/vote\", handlers.CastVote).Methods(\"POST\")\r\n \r\n     // Admin Actions\r\n     r.HandleFunc(\"/api/polls/{id}/close\", handlers.ClosePoll).Methods(\"PUT\")\r\n     r.HandleFunc(\"/api/polls/{id}\", handlers.DeletePoll).Methods(\"DELETE\")\r\n     r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n-    r.HandleFunc(\"/api/polls/{id}/toggle-realtime\", handlers.ToggleRealtimeVisibility).Methods(\"PUT\")\r\n+\r\n+    return r\r\n }\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747285458696,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,26 @@\n     \"github.com/gorilla/mux\"\r\n     \"backand/handlers\"\r\n )\r\n \r\n-func SetupRoutes() *mux.Router {\r\n+func SetupRoutes(r *mux.Router) {\r\n+    // Poll Creation\r\n+    r.HandleFunc(\"/api/polls\", handlers.CreatePollHandler).Methods(\"POST\")\r\n+\r\n+    // Dashboard\r\n+    r.HandleFunc(\"/api/dashboard\", handlers.GetDashboardData).Methods(\"GET\")\r\n+    r.HandleFunc(\"/api/polls/{id}\", handlers.ViewPollPage).Methods(\"GET\")\r\n+\r\n+    // Voting\r\n+    r.HandleFunc(\"/api/polls/{id}/vote\", handlers.CastVote).Methods(\"POST\")\r\n+\r\n+    // Admin Actions\r\n+    r.HandleFunc(\"/api/polls/{id}/close\", handlers.ClosePoll).Methods(\"PUT\")\r\n+    r.HandleFunc(\"/api/polls/{id}\", handlers.DeletePoll).Methods(\"DELETE\")\r\n+    r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n+    r.HandleFunc(\"/api/polls/{id}/toggle-realtime\", handlers.ToggleRealtimeVisibility).Methods(\"PUT\")\r\n+}\r\n+\r\n     r := mux.NewRouter()\r\n \r\n     // Poll Creation\r\n     r.HandleFunc(\"/api/polls\", handlers.CreatePollHandler).Methods(\"POST\")\r\n@@ -25,6 +42,5 @@\n     r.HandleFunc(\"/api/polls/{id}/close\", handlers.ClosePoll).Methods(\"PUT\")\r\n     r.HandleFunc(\"/api/polls/{id}\", handlers.DeletePoll).Methods(\"DELETE\")\r\n     r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n \r\n-    return r\r\n-}\n\\ No newline at end of file\n+    return r\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747285463932,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -22,25 +22,4 @@\n     r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n     r.HandleFunc(\"/api/polls/{id}/toggle-realtime\", handlers.ToggleRealtimeVisibility).Methods(\"PUT\")\r\n }\r\n \r\n-    r := mux.NewRouter()\r\n-\r\n-    // Poll Creation\r\n-    r.HandleFunc(\"/api/polls\", handlers.CreatePollHandler).Methods(\"POST\")\r\n-\r\n-    // Dashboard\r\n-    r.HandleFunc(\"/api/dashboard\", handlers.GetDashboardData).Methods(\"GET\")\r\n-    r.HandleFunc(\"/api/polls/{id}\", handlers.ViewPollPage).Methods(\"GET\")\r\n-\r\n-    //toggle-visibilty\r\n-    r.HandleFunc(\"/api/polls/{id}/toggle-realtime\", handlers.ToggleRealtimeVisibility).Methods(\"PUT\")\r\n-\r\n-    // Voting\r\n-    r.HandleFunc(\"/api/polls/{id}/vote\", handlers.CastVote).Methods(\"POST\")\r\n-\r\n-    // Admin Actions\r\n-    r.HandleFunc(\"/api/polls/{id}/close\", handlers.ClosePoll).Methods(\"PUT\")\r\n-    r.HandleFunc(\"/api/polls/{id}\", handlers.DeletePoll).Methods(\"DELETE\")\r\n-    r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n-\r\n-    return r\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747286277976,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,22 +4,27 @@\n     \"github.com/gorilla/mux\"\r\n     \"backand/handlers\"\r\n )\r\n \r\n-func SetupRoutes(r *mux.Router) {\r\n+func SetupRoutes() *mux.Router {\r\n+    r := mux.NewRouter()\r\n+\r\n     // Poll Creation\r\n     r.HandleFunc(\"/api/polls\", handlers.CreatePollHandler).Methods(\"POST\")\r\n \r\n     // Dashboard\r\n     r.HandleFunc(\"/api/dashboard\", handlers.GetDashboardData).Methods(\"GET\")\r\n     r.HandleFunc(\"/api/polls/{id}\", handlers.ViewPollPage).Methods(\"GET\")\r\n \r\n+    //toggle-visibilty\r\n+    r.HandleFunc(\"/api/polls/{id}/toggle-realtime\", handlers.ToggleRealtimeVisibility).Methods(\"PUT\")\r\n+\r\n     // Voting\r\n     r.HandleFunc(\"/api/polls/{id}/vote\", handlers.CastVote).Methods(\"POST\")\r\n \r\n     // Admin Actions\r\n     r.HandleFunc(\"/api/polls/{id}/close\", handlers.ClosePoll).Methods(\"PUT\")\r\n     r.HandleFunc(\"/api/polls/{id}\", handlers.DeletePoll).Methods(\"DELETE\")\r\n     r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n-    r.HandleFunc(\"/api/polls/{id}/toggle-realtime\", handlers.ToggleRealtimeVisibility).Methods(\"PUT\")\r\n-}\r\n \r\n+    return r\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747286344544,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,9 +4,26 @@\n     \"github.com/gorilla/mux\"\r\n     \"backand/handlers\"\r\n )\r\n \r\n-func SetupRoutes() *mux.Router {\r\n+func SetupRoutes(r *mux.Router) {\r\n+    // Poll Creation\r\n+    r.HandleFunc(\"/api/polls\", handlers.CreatePollHandler).Methods(\"POST\")\r\n+\r\n+    // Dashboard\r\n+    r.HandleFunc(\"/api/dashboard\", handlers.GetDashboardData).Methods(\"GET\")\r\n+    r.HandleFunc(\"/api/polls/{id}\", handlers.ViewPollPage).Methods(\"GET\")\r\n+\r\n+    // Voting\r\n+    r.HandleFunc(\"/api/polls/{id}/vote\", handlers.CastVote).Methods(\"POST\")\r\n+\r\n+    // Admin Actions\r\n+    r.HandleFunc(\"/api/polls/{id}/close\", handlers.ClosePoll).Methods(\"PUT\")\r\n+    r.HandleFunc(\"/api/polls/{id}\", handlers.DeletePoll).Methods(\"DELETE\")\r\n+    r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n+    r.HandleFunc(\"/api/polls/{id}/toggle-realtime\", handlers.ToggleRealtimeVisibility).Methods(\"PUT\")\r\n+}\r\n+\r\n     r := mux.NewRouter()\r\n \r\n     // Poll Creation\r\n     r.HandleFunc(\"/api/polls\", handlers.CreatePollHandler).Methods(\"POST\")\r\n@@ -25,6 +42,5 @@\n     r.HandleFunc(\"/api/polls/{id}/close\", handlers.ClosePoll).Methods(\"PUT\")\r\n     r.HandleFunc(\"/api/polls/{id}\", handlers.DeletePoll).Methods(\"DELETE\")\r\n     r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n \r\n-    return r\r\n-}\n\\ No newline at end of file\n+    return r\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747286447834,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,26 +4,9 @@\n     \"github.com/gorilla/mux\"\r\n     \"backand/handlers\"\r\n )\r\n \r\n-func SetupRoutes(r *mux.Router) {\r\n-    // Poll Creation\r\n-    r.HandleFunc(\"/api/polls\", handlers.CreatePollHandler).Methods(\"POST\")\r\n-\r\n-    // Dashboard\r\n-    r.HandleFunc(\"/api/dashboard\", handlers.GetDashboardData).Methods(\"GET\")\r\n-    r.HandleFunc(\"/api/polls/{id}\", handlers.ViewPollPage).Methods(\"GET\")\r\n-\r\n-    // Voting\r\n-    r.HandleFunc(\"/api/polls/{id}/vote\", handlers.CastVote).Methods(\"POST\")\r\n-\r\n-    // Admin Actions\r\n-    r.HandleFunc(\"/api/polls/{id}/close\", handlers.ClosePoll).Methods(\"PUT\")\r\n-    r.HandleFunc(\"/api/polls/{id}\", handlers.DeletePoll).Methods(\"DELETE\")\r\n-    r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n-    r.HandleFunc(\"/api/polls/{id}/toggle-realtime\", handlers.ToggleRealtimeVisibility).Methods(\"PUT\")\r\n-}\r\n-\r\n+func SetupRoutes() *mux.Router {\r\n     r := mux.NewRouter()\r\n \r\n     // Poll Creation\r\n     r.HandleFunc(\"/api/polls\", handlers.CreatePollHandler).Methods(\"POST\")\r\n@@ -42,5 +25,6 @@\n     r.HandleFunc(\"/api/polls/{id}/close\", handlers.ClosePoll).Methods(\"PUT\")\r\n     r.HandleFunc(\"/api/polls/{id}\", handlers.DeletePoll).Methods(\"DELETE\")\r\n     r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n \r\n-    return r\n\\ No newline at end of file\n+    return r\r\n+}\n\\ No newline at end of file\n"
                },
                {
                    "date": 1747286453726,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -4,27 +4,22 @@\n     \"github.com/gorilla/mux\"\r\n     \"backand/handlers\"\r\n )\r\n \r\n-func SetupRoutes() *mux.Router {\r\n-    r := mux.NewRouter()\r\n-\r\n+func SetupRoutes(r *mux.Router) {\r\n     // Poll Creation\r\n     r.HandleFunc(\"/api/polls\", handlers.CreatePollHandler).Methods(\"POST\")\r\n \r\n     // Dashboard\r\n     r.HandleFunc(\"/api/dashboard\", handlers.GetDashboardData).Methods(\"GET\")\r\n     r.HandleFunc(\"/api/polls/{id}\", handlers.ViewPollPage).Methods(\"GET\")\r\n \r\n-    //toggle-visibilty\r\n-    r.HandleFunc(\"/api/polls/{id}/toggle-realtime\", handlers.ToggleRealtimeVisibility).Methods(\"PUT\")\r\n-\r\n     // Voting\r\n     r.HandleFunc(\"/api/polls/{id}/vote\", handlers.CastVote).Methods(\"POST\")\r\n \r\n     // Admin Actions\r\n     r.HandleFunc(\"/api/polls/{id}/close\", handlers.ClosePoll).Methods(\"PUT\")\r\n     r.HandleFunc(\"/api/polls/{id}\", handlers.DeletePoll).Methods(\"DELETE\")\r\n     r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n+    r.HandleFunc(\"/api/polls/{id}/toggle-realtime\", handlers.ToggleRealtimeVisibility).Methods(\"PUT\")\r\n+}\r\n\\ No newline at end of file\n \r\n-    return r\r\n-}\n"
                },
                {
                    "date": 1747286460831,
                    "content": "Index: \n===================================================================\n--- \n+++ \n@@ -20,5 +20,27 @@\n     r.HandleFunc(\"/api/polls/{id}/close\", handlers.ClosePoll).Methods(\"PUT\")\r\n     r.HandleFunc(\"/api/polls/{id}\", handlers.DeletePoll).Methods(\"DELETE\")\r\n     r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n     r.HandleFunc(\"/api/polls/{id}/toggle-realtime\", handlers.ToggleRealtimeVisibility).Methods(\"PUT\")\r\n-}\n\\ No newline at end of file\n+}\r\n+\r\n+    r := mux.NewRouter()\r\n+\r\n+    // Poll Creation\r\n+    r.HandleFunc(\"/api/polls\", handlers.CreatePollHandler).Methods(\"POST\")\r\n+\r\n+    // Dashboard\r\n+    r.HandleFunc(\"/api/dashboard\", handlers.GetDashboardData).Methods(\"GET\")\r\n+    r.HandleFunc(\"/api/polls/{id}\", handlers.ViewPollPage).Methods(\"GET\")\r\n+\r\n+    //toggle-visibilty\r\n+    r.HandleFunc(\"/api/polls/{id}/toggle-realtime\", handlers.ToggleRealtimeVisibility).Methods(\"PUT\")\r\n+\r\n+    // Voting\r\n+    r.HandleFunc(\"/api/polls/{id}/vote\", handlers.CastVote).Methods(\"POST\")\r\n+\r\n+    // Admin Actions\r\n+    r.HandleFunc(\"/api/polls/{id}/close\", handlers.ClosePoll).Methods(\"PUT\")\r\n+    r.HandleFunc(\"/api/polls/{id}\", handlers.DeletePoll).Methods(\"DELETE\")\r\n+    r.HandleFunc(\"/api/polls/{id}/export\", handlers.ExportPollResults).Methods(\"GET\")\r\n+\r\n+    return r\n\\ No newline at end of file\n"
                }
            ],
            "date": 1747213367708,
            "name": "Commit-0",
            "content": "h"
        }
    ]
}